# HURDAT2 Hurricane Landfall App.

An application to parse HURDAT2 dataset, identify storms which made landfall in a specified geographical boundary and to generate a report with the name of the hurricane, the date of landfall and the maximum wind speed that the hurricane attained. 

## Project Structure

- `reports`: directory to house reports generated by the Flask app
- `resources`: resource files for the project
    - `Detailed_Florida_State_Boundary`: shapefile for florida state boundary. this state boundary is highly detailed and running the application with this geography may result in several minutes of processing time. source: https://hub.arcgis.com/datasets/519e0a0ed5984bedba53695e1f56c1ee/explore
    - `Detailed_Florida_State_Boundary.geojson`: geojson representation of florida state boundary, same source and resolution as the above statefile. source: https://hub.arcgis.com/datasets/519e0a0ed5984bedba53695e1f56c1ee/explore
    - `florida.geojson`: state boundary for Florida in geojson format. it is significantly lower resolution than the above options and hurrican landfall can be identified within a few seconds https://eric.clst.org/tech/usgeojson/
- `templates`: the html/jinja templates for the Flask UI
    - `base.html`: base template
    - `index.html`: homepage
    - `report_fail.html`: page to display if the report fails to be generated for some reason
    - `report.html`: page displaying the report data
    - `upload_new.html`: page for uploading new user defined files
    - `upload_success.html`: page when files have successfully been uploaded
- `uploads`: store files uploaded by the user 
- `cyclcone_data.py`: data structures to represent a cyclone and observations
- `geography_parsing.py`: parse geography files (shapefiles and geojson)
- `hurdat2_parsing.py`: parse HURDAT2 formatted csv files
- `hurricane_app.py`: Flask application 
- `hurricane_report.py`: code to orchestrate processing of the data and generate the report csv
- `requirements.txt`: python requirements file for building virtual envs

## Running the Application

The application can be run either as a command line script or as a Flask application. To run locally, the first step in either case is to build a virtual environment and install the requirements from `requirements.txt`. This assumes running python 3.9+.

By default the application accepts a HURDAT2 formatted file (txt or csv file extension) and a geojson file (geojson or json file extension).

To run the app as a script and generate a report file you can run:

```
python hurricane_report.py <hurdat2_file_path> <geojson_file_path>
```

This will generate a file called `landfall_report.csv` in your current directory containing the name, date of landfall (MM/DD/YYYY), and maximum wind speed achieved by the hurricane. This report contains all of the hurricanes/cyclones from the hurdat2 file which made landfall in the geography from the geojson. 

To run as a Flask application, navigate to the source directory and run 

```
flask --app hurricane_app run
```

This will serve a web app at `localhost:5000` where you can access the UI. 